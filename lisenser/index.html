<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lisenser - FixMyTech.no</title>
  <meta name="description" content="Lisensinformasjon for tredjepartsressurser brukt på FixMyTech.no, inkludert Font Awesome og Google Fonts.">
  <meta name="author" content="FixMyTech.no">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="icon" type="image/x-icon" href="https://fixmytech.no/favicon.ico">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fixmytech.no/css/styles.css">
  <style>
    /* Licenses Page Styles */
    .licenses-section {
      padding: 8rem 0 5rem; /* Increased top padding from 6rem to 8rem */
      background: #fff;
      color: var(--secondary);
    }

    .licenses-section .container {
      max-width: 800px;
    }

    .licenses-section h1 {
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .licenses-section p {
      font-size: 1.1rem;
      margin-bottom: 1rem;
    }

    .license-item {
      margin-bottom: 2rem;
    }

    .license-item h2 {
      font-size: 1.75rem;
      margin-bottom: 0.5rem;
      color: var(--primary);
    }

    .license-item p {
      color: var(--secondary);
    }

    .license-item a {
      color: var(--primary);
      text-decoration: underline;
    }

    .license-item a:hover {
      color: var(--secondary);
    }

    .license-item ul {
      list-style: none;
      padding-left: 1rem;
    }

    .license-item li {
      margin-bottom: 0.5rem;
      position: relative;
      padding-left: 1.5rem;
    }

    .license-item li::before {
      content: '\f058'; /* Font Awesome check-circle */
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      position: absolute;
      left: 0;
      color: var(--success);
    }

    .home-button {
      display: block;
      text-align: center;
      margin: 2rem auto;
      padding: 0.8rem 1.5rem;
      background-color: var(--primary);
      color: white;
      text-decoration: none;
      border-radius: var(--border-radius);
      font-weight: 500;
      max-width: 200px;
    }

    .home-button:hover {
      background-color: var(--secondary);
    }

    @media (max-width: 768px) {
      .licenses-section {
        padding: 3rem 0;
      }

      .licenses-section h1 {
        font-size: 2rem;
      }

      .license-item h2 {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Header Include -->
  <div id="header-container"></div>

  <!-- Cookie Consent Banner -->
  <div id="cookie-consent-banner">
    <div class="cookie-content">
      <div class="cookie-text">
        <h3>Vi bruker informasjonskapsler</h3>
        <p>Vi bruker cookies for å forbedre din opplevelse og analysere bruk. Les mer i vår <a href="/personvern">personvernerklæring</a>.</p>
      </div>
      <div class="cookie-buttons">
        <button id="cookie-accept" class="cookie-btn cookie-accept-btn">Godta</button>
        <button id="cookie-reject" class="cookie-btn cookie-reject-btn">Avvis</button>
        <button id="cookie-settings" class="cookie-btn cookie-settings-btn">Innstillinger</button>
      </div>
    </div>
  </div>

  <!-- Cookie Settings Modal -->
  <div id="cookie-settings-modal">
    <div class="cookie-settings-content">
      <span class="close-modal">×</span>
      <h2>Cookie-innstillinger</h2>
      <div class="cookie-option">
        <label class="toggle-label">
          Analyse-cookies
          <input type="checkbox" id="analytics-cookies">
          <span class="toggle-switch"></span>
          <span id="analytics-status-text">Av</span>
        </label>
        <p>Hjelper oss å forstå hvordan nettstedet brukes.</p>
      </div>
      <div class="cookie-option">
        <p>Status: <span id="overall-status-text">Innstillinger er ikke lagret</span></p>
      </div>
      <button class="btn btn-primary" id="save-cookie-settings">Lagre</button>
    </div>
  </div>

  <main id="main-content">
    <div class="container">
      <section class="licenses-section">
        <h1>Lisensinformasjon</h1>
        <p>FixMyTech.no bruker flere tredjepartsressurser for å gi en optimal brukeropplevelse. Nedenfor finner du informasjon om lisensene for disse ressursene.</p>

        <div class="license-item">
          <h2>Font Awesome</h2>
          <p>Vi bruker Font Awesome Free 6.4.0 for ikoner på nettstedet vårt. Font Awesome er lisensiert under følgende vilkår:</p>
          <ul>
            <li>Ikoner: <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International (CC BY 4.0)</a></li>
            <li>Kode (CSS/JS): <a href="https://opensource.org/licenses/MIT" target="_blank">MIT License</a></li>
            <li>Skjermfonter: <a href="https://scripts.sil.org/OFL" target="_blank">SIL Open Font License 1.1</a></li>
          </ul>
          <p>Mer informasjon finner du på <a href="https://fontawesome.com/license/free" target="_blank">Font Awesome sin lisensside</a>.</p>
        </div>

        <div class="license-item">
          <h2>Google Fonts (Poppins og Roboto)</h2>
          <p>Vi bruker Poppins og Roboto fonter fra Google Fonts. Begge fonter er lisensiert under <a href="https://scripts.sil.org/OFL" target="_blank">SIL Open Font License 1.1</a>.</p>
          <p>Mer informasjon om disse fontene finner du på:</p>
          <ul>
            <li><a href="https://fonts.google.com/specimen/Poppins" target="_blank">Poppins på Google Fonts</a></li>
            <li><a href="https://fonts.google.com/specimen/Roboto" target="_blank">Roboto på Google Fonts</a></li>
          </ul>
        </div>

        <div class="license-item">
          <h2>Favicon</h2>
          <p>Faviconet som brukes på FixMyTech.no er [bekreft om det er egendesignet eller fra en tredjepart]. Hvis det er fra en tredjepart, vil lisensinformasjonen bli oppdatert her.</p>
        </div>

        <div class="license-item">
          <h2>Formspree</h2>
          <p>Vi bruker Formspree for å håndtere kontaktskjemaet vårt. Tjenesten er levert av <a href="https://formspree.io/" target="_blank">Formspree</a>. Se deres <a href="https://formspree.io/legal/terms-of-service" target="_blank">vilkår for bruk</a> for mer informasjon.</p>
        </div>

        <p>Hvis du har spørsmål om lisensene eller bruken av tredjepartsressurser, kontakt oss via <a href="/#contact">kontaktskjemaet</a>.</p>
        
        <a href="/" class="home-button">Ta Meg Hjem</a>
      </section>
    </div>
  </main>

  <!-- Footer Include -->
  <div id="footer-container"></div>

  <!-- Script Loading -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Load header
      fetch('https://fixmytech.no/includes/header.html')
        .then(res => {
          if (!res.ok) throw new Error('Failed to load header');
          return res.text();
        })
        .then(header => {
          document.getElementById('header-container').innerHTML = header;

          // Load footer after header
          return fetch('https://fixmytech.no/includes/footer.html');
        })
        .then(res => {
          if (!res.ok) throw new Error('Failed to load footer');
          return res.text();
        })
        .then(footer => {
          document.getElementById('footer-container').innerHTML = footer;

          // Load main.js after both header and footer are loaded
          const script = document.createElement('script');
          script.src = 'https://fixmytech.no/js/main.js';
          document.body.appendChild(script);

          // Cookie Consent Logic (matching fixmytech.no behavior)
          function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
          }

          function setCookie(name, value, days) {
            let expires = "";
            if (days) {
              const date = new Date();
              date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
              expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + (value || "") + expires + "; path=/;SameSite=Lax";
          }

          const cookieBanner = document.getElementById('cookie-consent-banner');
          const cookieModal = document.getElementById('cookie-settings-modal');
          const acceptBtn = document.getElementById('cookie-accept');
          const rejectBtn = document.getElementById('cookie-reject');
          const settingsBtn = document.getElementById('cookie-settings');
          const closeModal = document.querySelector('.close-modal');
          const saveSettingsBtn = document.getElementById('save-cookie-settings');
          const analyticsToggle = document.getElementById('analytics-cookies');
          const analyticsStatus = document.getElementById('analytics-status-text');
          const overallStatus = document.getElementById('overall-status-text');
          const cookieSettingsLink = document.getElementById('cookieSettingsLink');

          // Check if cookie consent is already given
          const consentGiven = getCookie('cookie_consent_given');
          if (consentGiven) {
            const analytics = getCookie('analytics_cookies');
            analyticsToggle.checked = analytics === 'true';
            analyticsStatus.textContent = analyticsToggle.checked ? 'På' : 'Av';
            overallStatus.textContent = 'Innstillinger lagret';
            cookieBanner.style.display = 'none';
          } else {
            setTimeout(() => {
              cookieBanner.style.display = 'block';
            }, 1000);
          }

          // Function to open cookie settings modal
          function openCookieSettingsModal(event) {
            event.preventDefault();
            const analytics = getCookie('analytics_cookies');
            if (analytics !== undefined) {
              analyticsToggle.checked = analytics === 'true';
              analyticsStatus.textContent = analyticsToggle.checked ? 'På' : 'Av';
            }
            cookieModal.style.display = 'block';
          }

          // Accept cookies
          acceptBtn.addEventListener('click', (event) => {
            event.preventDefault();
            setCookie('cookie_consent_given', 'true', 365);
            setCookie('analytics_cookies', 'true', 365);
            cookieBanner.style.display = 'none';
            analyticsToggle.checked = true;
            analyticsStatus.textContent = 'På';
            overallStatus.textContent = 'Innstillinger lagret';
          });

          // Reject cookies
          rejectBtn.addEventListener('click', (event) => {
            event.preventDefault();
            setCookie('cookie_consent_given', 'true', 365);
            setCookie('analytics_cookies', 'false', 365);
            cookieBanner.style.display = 'none';
            analyticsToggle.checked = false;
            analyticsStatus.textContent = 'Av';
            overallStatus.textContent = 'Innstillinger lagret';
          });

          // Open settings modal from banner
          settingsBtn.addEventListener('click', openCookieSettingsModal);

          // Open settings modal from footer
          if (cookieSettingsLink) {
            cookieSettingsLink.addEventListener('click', openCookieSettingsModal);
          }

          // Close settings modal
          closeModal.addEventListener('click', (event) => {
            event.preventDefault();
            cookieModal.style.display = 'none';
          });

          // Save cookie settings
          saveSettingsBtn.addEventListener('click', (event) => {
            event.preventDefault();
            setCookie('cookie_consent_given', 'true', 365);
            setCookie('analytics_cookies', analyticsToggle.checked.toString(), 365);
            cookieBanner.style.display = 'none';
            cookieModal.style.display = 'none';
            analyticsStatus.textContent = analyticsToggle.checked ? 'På' : 'Av';
            overallStatus.textContent = 'Innstillinger lagret';
          });

          // Toggle analytics status text
          analyticsToggle.addEventListener('change', () => {
            analyticsStatus.textContent = analyticsToggle.checked ? 'På' : 'Av';
          });
        })
        .catch(error => {
          console.error('Error loading header or footer:', error);
          document.querySelectorAll('.error-message').forEach(el => el.style.display = 'block');
        });
    });
  </script>
</body>
</html>
