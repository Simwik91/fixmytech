<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QR-kodegenerator - FixMyTech</title>
  <meta name="description" content="Generer tilpassede QR-koder.">
  
  <!-- Performance Tuning -->
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
    <!-- Shared CSS -->
  
    <link rel="stylesheet" href="/css/styles.css">
  
    <link rel="stylesheet" href="/css/dark-mode.css">
  
    <link rel="stylesheet" href="/css/qrgenerator.css">
  
  </head>
  
  <body>
  <!-- Cookie Consent Include -->
  <div id="cookie-consent-container"></div>
  <div id="header-container"></div>
<main id="main-content">
  <section class="page-hero">
    <div class="hero-content">
      <h1><span>QR</span>-kodegenerator</h1>
      <p>Generer tilpassede QR-koder.</p>
    </div>
  </section>
  <div class="card">
      <div class="tabs" role="tablist">
        <div class="tab active" data-tab="single" role="tab" aria-selected="true" tabindex="0">
          <i class="fas fa-qrcode"></i> Enkel QR-kode
        </div>
        <div class="tab" data-tab="bulk" role="tab" aria-selected="false" tabindex="0">
          <i class="fas fa-layer-group"></i> Bulk QR koder
        </div>
        <div class="tab" data-tab="scan" role="tab" aria-selected="false" tabindex="0">
          <i class="fas fa-camera"></i> Skann QR-kode
        </div>
      </div>


      <div class="tab-content active" id="single-tab" role="tabpanel">
        
        <div class="form-group">
          <label for="qr-type">QR-kodetype:</label>
          <select id="qr-type" aria-label="Velg QR-kodetype">
            <option value="text" selected>Egendefinert</option>
            <option value="numeric">Numerisk</option>
            <option value="url">URL</option>
            <option value="vcard">vCard (Kontakt)</option>
            <option value="wifi">Wi-Fi</option>
            <option value="sms">SMS</option>
            <option value="email">E-post</option>
          </select>
        </div>

        <div class="form-grid">
            <div class="qr-type-fields" id="text-fields">
              <div class="form-group">
                <label for="text-input">Skriv inn data:</label>
                <textarea id="text-input" placeholder="Skriv inn data" aria-label="Skriv inn tekst"></textarea>
              </div>
            </div>

            <div class="qr-type-fields" id="numeric-fields" style="display: none;">
              <div class="form-group">
                <label for="numeric-input">Skriv inn tall:</label>
                <input type="text" id="numeric-input" placeholder="1234567890" pattern="[0-9]*" inputmode="numeric" aria-label="Skriv inn tall">
              </div>
            </div>

            <div class="qr-type-fields" id="url-fields" style="display: none;">
              <div class="form-group">
                <label for="url-input">Skriv inn URL:</label>
                <input type="url" id="url-input" placeholder="https://example.com" aria-label="Skriv inn URL">
              </div>
            </div>

            <div class="qr-type-fields" id="vcard-fields" style="display: none;">
              <div class="form-group">
                <label for="vcard-name">Fullt navn:</label>
                <input type="text" id="vcard-name" placeholder="Ola Nordmann" aria-label="Skriv inn fullt navn">
              </div>
              <div class="form-group">
                <label for="vcard-phone">Telefonnummer:</label>
                <input type="tel" id="vcard-phone" placeholder="+4712345678" aria-label="Skriv inn telefonnummer">
              </div>
              <div class="form-group">
                <label for="vcard-email">E-post:</label>
                <input type="email" id="vcard-email" placeholder="ola@example.com" aria-label="Skriv inn e-postadresse">
              </div>
            </div>

            <div class="qr-type-fields" id="wifi-fields" style="display: none;">
              <div class="form-group">
                <label for="wifi-ssid">Wi-Fi SSID:</label>
                <input type="text" id="wifi-ssid" placeholder="Nettverksnavn" aria-label="Skriv inn Wi-Fi SSID">
              </div>
              <div class="form-group">
                <label for="wifi-password">Passord:</label>
                <input type="text" id="wifi-password" placeholder="Passord" aria-label="Skriv inn Wi-Fi-passord">
              </div>
              <div class="form-group">
                <label for="wifi-type">Krypteringstype:</label>
                <select id="wifi-type" aria-label="Velg Wi-Fi-krypteringstype">
                  <option value="WPA">WPA/WPA2</option>
                  <option value="WEP">WEP</option>
                  <option value="nopass">Ingen passord</option>
                </select>
              </div>
            </div>

            <div class="qr-type-fields" id="sms-fields" style="display: none;">
              <div class="form-group">
                <label for="sms-phone">Telefonnummer:</label>
                <input type="tel" id="sms-phone" placeholder="+4712345678" aria-label="Skriv inn telefonnummer for SMS">
              </div>
              <div class="form-group">
                <label for="sms-message">Melding:</label>
                <textarea id="sms-message" placeholder="Skriv inn meldingen din" aria-label="Skriv inn SMS-melding"></textarea>
              </div>
            </div>

            <div class="qr-type-fields" id="email-fields" style="display: none;">
              <div class="form-group">
                <label for="email-address">Mottakers e-post:</label>
                <input type="email" id="email-address" placeholder="mottaker@example.com" aria-label="Skriv inn mottakers e-post">
              </div>
              <div class="form-group">
                <label for="email-subject">Emne:</label>
                <input type="text" id="email-subject" placeholder="Emne" aria-label="Skriv inn e-postemne">
              </div>
              <div class="form-group">
                <label for="email-body">Brødtekst:</label>
                <textarea id="email-body" placeholder="Skriv inn e-posttekst" aria-label="Skriv inn e-posttekst"></textarea>
              </div>
            </div>
        </div>

        <div class="error" id="input-error" style="display: none;">Vennligst fyll ut alle obligatoriske felt</div>

        <div class="options-container">
            <div class="options-header">
                <h3><i class="fas fa-palette"></i> Fargevalg</h3>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="options-content" id="color-options">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="fg-color">Forgrundsfarge</label>
                        <input type="color" id="fg-color" value="#000000" aria-label="Velg forgrundsfarge">
                    </div>
                    <div class="form-group">
                        <label for="bg-color">Bakgrunnsfarge</label>
                        <input type="color" id="bg-color" value="#FFFFFF" aria-label="Velg bakgrunnsfarge">
                    </div>
                    <div class="form-group">
                        <label for="transparent-bg">Gjennomsiktig bakgrunn</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="transparent-bg">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <div class="options-container">
            <div class="options-header">
                <h3><i class="fas fa-image"></i> Logo og kantlinjevalg</h3>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="options-content" id="logo-options">
                <div class="file-upload-area" id="logo-upload-area">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h3>Last opp logo</h3>
                    <p>Dra og slipp logoen din her eller klikk for å velge en fil</p>
                    <input type="file" id="logo-upload" accept="image/*" aria-label="Last opp logo">
                </div>
                <div class="logo-preview" id="logo-preview" style="display: none; margin-top: 1rem; text-align: center;">
                    <img id="logo-preview-img" src="#" alt="Logo Preview" style="max-width: 100px; max-height: 100px; display: block; margin: 0 auto;" />
                </div>
                <div id="border-unavailable-message" style="display: block; color: #666; margin-top: 1rem; text-align: center;">
                    Kantlinje er ikke tilgjengelig før en logo er lastet opp.
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="logo-size">Logostørrelse:</label>
                        <input type="range" id="logo-size" min="5" max="25" value="15">
                    </div>
                    <div class="form-group">
                        <label for="border-color">Kantlinjefarge:</label>
                        <input type="color" id="border-color" value="#ffffff">
                    </div>
                    <div class="form-group">
                        <label for="border-width">Kantlinjebredde:</label>
                        <input type="range" id="border-width" min="0" max="10" value="0">
                    </div>
                </div>
            </div>
        </div>

        <div class="btn-group">
          <button onclick="generateQR()" class="btn" aria-label="Generer QR-kode">
            <i class="fas fa-bolt"></i> Generer QR-kode
          </button>
          <div class="download-buttons" id="download-buttons" style="display: none;">
              <button id="download-png-btn" onclick="downloadQR('png')" class="btn btn-secondary" aria-label="Last ned PNG QR-kode">
                <i class="fas fa-download"></i> Last ned PNG
              </button>
            </div>
        </div>

        <div class="loading" id="qr-loading" style="display: none;">
          <div class="spinner"></div>
          Genererer QR-kode...
        </div>
        <div class="error" id="qr-error" style="display: none;"></div>
        <div class="success" id="qr-success" style="display: none;"></div>

        <div class="qr-result-container" style="display: none;">
          <div id="qr-canvas" aria-label="Generert QR-kode"></div>
        </div>
      </div>

      <div class="tab-content" id="bulk-tab" role="tabpanel">
        <div class="form-group">
            <label for="bulk-input-type">Inndatatype:</label>
            <select id="bulk-input-type" aria-label="Velg inndatatype for masse-QR-koder">
                <option value="list" selected>Liste</option>
                <option value="range">Tallrekke</option>
                <option value="csv">CSV-opplasting</option>
            </select>
        </div>
        
        <div id="bulk-list-fields" class="bulk-format-content">
          <div class="form-group">
            <label for="bulk-input">Skriv inn URL-er eller tekst (én per linje):</label>
            <textarea id="bulk-input" rows="5" placeholder="https://example.com/side1
https://example.com/side2
Enhver tekst eller data" aria-label="Skriv inn URL-er eller tekst for masse-QR-koder"></textarea>
          </div>
        </div>
        
        <div id="bulk-range-fields" class="bulk-format-content" style="display: none;">
          <div class="form-grid">
            <div class="form-group">
              <label for="range-start">Startnummer:</label>
              <input type="number" id="range-start" min="1" value="1" placeholder="1">
            </div>
            <div class="form-group">
              <label for="range-end">Sluttnummer:</label>
              <input type="number" id="range-end" min="1" value="10" placeholder="10">
            </div>
          </div>
        </div>
        
        <div id="bulk-csv-fields" class="bulk-format-content" style="display: none;">
          <div class="file-upload-area" id="csv-upload-area">
              <i class="fas fa-cloud-upload-alt"></i>
              <h3>Last opp CSV-fil</h3>
              <p>Dra og slipp filen din her eller klikk for å bla gjennom</p>
              <input type="file" id="bulk-file-upload" accept=".csv" aria-label="Last opp CSV-fil for masse-QR-koder">
          </div>
        </div>

        <div class="options-container">
            <div class="options-header">
                <h3><i class="fas fa-palette"></i> Fargevalg</h3>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="options-content" id="bulk-color-options">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="bulk-fg-color">Forgrundsfarge</label>
                        <input type="color" id="bulk-fg-color" value="#000000" aria-label="Velg forgrundsfarge">
                    </div>
                    <div class="form-group">
                        <label for="bulk-bg-color">Bakgrunnsfarge</label>
                        <input type="color" id="bulk-bg-color" value="#FFFFFF" aria-label="Velg bakgrunnsfarge">
                    </div>
                    <div class="form-group">
                        <label for="bulk-transparent-bg">Gjennomsiktig bakgrunn</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="bulk-transparent-bg">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <div class="options-container">
            <div class="options-header">
                <h3><i class="fas fa-image"></i> Logo og kantlinjevalg</h3>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="options-content" id="bulk-logo-options">
                <div class="file-upload-area" id="bulk-logo-upload-area">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h3>Last opp logo</h3>
                    <p>Dra og slipp logoen din her eller klikk for å velge en fil</p>
                    <input type="file" id="bulk-logo-upload" accept="image/*" aria-label="Last opp logo">
                </div>
                <div class="logo-preview" id="bulk-logo-preview" style="display: none; margin-top: 1rem; text-align: center;">
                    <img id="bulk-logo-preview-img" src="#" alt="Logo Preview" style="max-width: 100px; max-height: 100px; display: block; margin: 0 auto;" />
                </div>
                <div id="bulk-border-unavailable-message" style="display: block; color: #666; margin-top: 1rem; text-align: center;">
                    Kantlinje er ikke tilgjengelig før en logo er lastet opp.
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="bulk-logo-size">Logostørrelse:</label>
                        <input type="range" id="bulk-logo-size" min="5" max="25" value="15">
                    </div>
                    <div class="form-group">
                        <label for="bulk-border-color">Kantlinjefarge:</label>
                        <input type="color" id="bulk-border-color" value="#ffffff">
                    </div>
                    <div class="form-group">
                        <label for="bulk-border-width">Kantlinjebredde:</label>
                        <input type="range" id="bulk-border-width" min="0" max="10" value="0">
                    </div>
                </div>
            </div>
        </div>

        <div class="options-container">
            <div class="options-header">
                <h3><i class="fas fa-file-signature"></i> Alternativer for filnavn</h3>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="options-content" id="bulk-naming-options">
                <div class="form-grid">
                    <div class="form-group">
                      <label for="bulk-file-prefix">Prefiks (valgfritt):</label>
                      <input type="text" id="bulk-file-prefix" placeholder="F.eks. 'Produkt-'">
                    </div>
                    <div class="form-group">
                      <label for="bulk-file-name">Navn (valgfritt):</label>
                      <input type="text" id="bulk-file-name" placeholder="Standard er QR-innhold">
                    </div>
                    <div class="form-group">
                      <label for="bulk-file-affix">Affiks (valgfritt):</label>
                      <input type="text" id="bulk-file-affix" placeholder="F.eks. '-ID'">
                    </div>
                </div>
            </div>
        </div>

        <div class="btn-group">
          <button onclick="generateBulkQR('png')" class="btn" aria-label="Generer og last ned masse-QR-koder som PNG ZIP">
            <i class="fas fa-file-archive"></i> Last ned PNG (ZIP)
          </button>
        </div>

        <div class="loading" id="bulk-loading" style="display: none;">
          <div class="spinner"></div>
          <div id="bulk-progress">Genererer QR-koder: 0/0</div>
        </div>

        <div class="success" id="bulk-success" style="display: none;"></div>
        <div class="error" id="bulk-error" style="display: none;"></div>
      </div>

      <div class="tab-content" id="scan-tab" role="tabpanel">
        <div class="scanner-container">
          <video id="scanner-video" aria-label="Kamerafeed for QR-kodeskanning"></video>
          <div class="scanner-overlay" id="scanner-overlay">
            <div class="scanner-box"></div>
          </div>
        </div>

        <div class="btn-group" style="justify-content: center; margin-top: 2rem;">
          <button id="start-scan" class="btn btn-primary btn-lg" aria-label="Start kameraskanner">
            <i class="fas fa-camera"></i> Start Kameraskanner
          </button>
        </div>
        
        <div class="file-upload-area" id="scan-upload-area" style="margin-top: 2rem;">
            <i class="fas fa-cloud-upload-alt"></i>
            <h3>Last opp QR-kodebilde</h3>
            <p>Dra og slipp et bilde her eller klikk for å velge en fil</p>
            <input type="file" id="file-upload" accept="image/*" aria-label="Last opp QR-kodebilde for skanning">
        </div>

        <div id="stop-scan-container" class="btn-group" style="justify-content: center; margin-top: 1rem; display: none;">
            <button id="stop-scan" class="btn btn-secondary" aria-label="Stopp kameraskanner">
              <i class="fas fa-stop"></i> Stopp skanner
            </button>
        </div>

        <div class="scan-result" id="scan-result" role="region" aria-live="polite" style="display: none; margin-top: 1rem;">
          <p>Skanneresultater vises her</p>
        </div>
      </div>
    </div>
  </div>
</main>
  <div id="footer-container"></div>

  <!-- JavaScript Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-image-url/1.0.0/js-image-url.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>


  <!-- Shared JavaScript -->
  <script src="/js/theme.js" defer></script>
  <script src="/js/cookie-consent.js" defer></script>
  <script src="/js/main.js" defer></script>
  <script src="/js/qrgenerator.js"></script>
</body>
</html>